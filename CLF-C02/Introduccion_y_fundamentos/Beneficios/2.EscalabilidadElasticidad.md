# Escalabilidad y Elasticidad en la Nube - Examen CLF-C02

Dentro del modelo de computaciÃ³n en la nube, la escalabilidad y la elasticidad son **principios arquitectÃ³nicos gemelos** que habilitan algunos de los beneficios mÃ¡s transformadores de AWS, especialmente en tÃ©rminos de **rendimiento** y **eficiencia de costos**.

---

## 1. Diferencia entre Escalabilidad y Elasticidad

Aunque a menudo se usan de manera intercambiable, el examen y los marcos de diseÃ±o de AWS hacen una **distinciÃ³n importante**:

### Escalabilidad (Scalability)

- Es la capacidad de un servicio para **crecer y aumentar automÃ¡ticamente** su capacidad para satisfacer un aumento de la demanda de los usuarios de manera fluida.
- Dado el inmenso tamaÃ±o de la infraestructura global de la nube, la escalabilidad es **prÃ¡cticamente ilimitada**.
- Permite a las empresas expandirse de manera transparente a medida que sus necesidades evolucionan, ya sea abordando nuevos mercados o enfrentando fluctuaciones de gran volumen.
- **DirecciÃ³n:** Solo crece (escala hacia afuera / hacia arriba).

### Elasticidad (Elasticity)

- Se compara frecuentemente con una **banda elÃ¡stica**: es la capacidad del sistema no solo para **expandirse** (escalar hacia afuera o hacia arriba) cuando la demanda crece, sino tambiÃ©n para **contraerse** (escalar hacia adentro o hacia abajo) de forma rÃ¡pida y **automÃ¡tica** cuando la demanda disminuye.
- El sistema regresa a su tamaÃ±o original cuando la demanda baja.
- **DirecciÃ³n:** Crece Y encoge automÃ¡ticamente.

| Concepto | DirecciÃ³n | Automatismo | PropÃ³sito |
|---|---|---|---|
| **Escalabilidad** | Solo crece â†‘ | Manual o automÃ¡tico | Manejar mÃ¡s carga |
| **Elasticidad** | Crece â†‘ y encoge â†“ | Siempre automÃ¡tico | Pagar solo lo consumido |

> **Tip de examen:** Si la pregunta menciona "ajuste automÃ¡tico hacia arriba Y hacia abajo" o "no pagar por recursos inactivos" â†’ **Elasticidad**. Si solo menciona "crecer para manejar mÃ¡s demanda" â†’ **Escalabilidad**.

### ğŸ“Š Diagrama: Escalabilidad vs Elasticidad - La Diferencia Clave

```mermaid
flowchart TD
    subgraph SCALE["ğŸ“ˆ Escalabilidad"]
        direction TB
        S1["Demanda baja<br/>ğŸ–¥ï¸ 2 instancias"]
        S2["Demanda alta<br/>ğŸ–¥ï¸ğŸ–¥ï¸ğŸ–¥ï¸ğŸ–¥ï¸ 8 instancias"]
        S1 -->|"Demanda sube<br/>â†‘ Escala hacia afuera"| S2
        S2 -.->|"Demanda baja<br/>(puede ser manual)"| S1
        SNOTE["âœ… Crece para<br/>satisfacer la demanda"]
    end

    subgraph ELAST["ğŸ”„ Elasticidad (banda elÃ¡stica)"]
        direction TB
        E1["Demanda baja<br/>ğŸ–¥ï¸ 1 instancia<br/>ğŸ’° Pagas 1"]
        E2["Demanda alta<br/>ğŸ–¥ï¸ğŸ–¥ï¸ğŸ–¥ï¸ğŸ–¥ï¸ğŸ–¥ï¸ğŸ–¥ï¸ğŸ–¥ï¸ğŸ–¥ï¸ 8 instancias<br/>ğŸ’° Pagas 8"]
        E1 -->|"Auto Scale OUT â†‘<br/>(automÃ¡tico)"| E2
        E2 -->|"Auto Scale IN â†“<br/>(automÃ¡tico) âœ…"| E1
        ENOTE["âœ… Crece Y encoge<br/>automÃ¡ticamente<br/>Pagas EXACTAMENTE<br/>lo consumido"]
    end

    style SCALE fill:#1a73e8,stroke:#FF9900,color:#FFFFFF
    style ELAST fill:#0d904f,stroke:#FF9900,color:#FFFFFF
    style S1 fill:#1a73e8,stroke:#FFFFFF,color:#FFFFFF
    style S2 fill:#1a73e8,stroke:#FFFFFF,color:#FFFFFF
    style SNOTE fill:#1a73e8,stroke:#FFFFFF,color:#FFFFFF
    style E1 fill:#0d904f,stroke:#FFFFFF,color:#FFFFFF
    style E2 fill:#0d904f,stroke:#FFFFFF,color:#FFFFFF
    style ENOTE fill:#0d904f,stroke:#FFFFFF,color:#FFFFFF
```

---

## 2. Impacto en los Beneficios EconÃ³micos y Eficiencia de Costos

La elasticidad es el **motor tÃ©cnico** que hace que el modelo econÃ³mico de **pago por uso (pay-as-you-go)** sea verdaderamente rentable.

### El Fin de las Conjeturas de Capacidad

- En la infraestructura de TI **tradicional (on-premises)**, las empresas tenÃ­an que **sobreaprovisionar hardware** para soportar los picos mÃ¡ximos previstos de demanda.
- Esto resultaba en un **desperdicio enorme de recursos de capital (CapEx)** cuando los servidores estaban inactivos durante horas de menor actividad.

### Con la Nube

- Se establecen **niveles de rendimiento mÃ¡ximos y mÃ­nimos**, y el sistema ajusta los recursos segÃºn sea necesario.
- Un servicio de streaming de video puede **agregar servidores automÃ¡ticamente** para lidiar con el trÃ¡fico pesado de la noche y **eliminarlos durante la madrugada**.
- Al reducir los recursos de forma elÃ¡stica, solo se paga por el **tiempo y la capacidad exacta consumida**, optimizando el gasto operativo (OpEx).

> **Tip de examen:** "Sobreaprovisionar / desperdicio de capacidad" = problema **on-premises**. "Pagar solo lo consumido / sin capacidad ociosa" = ventaja de la **elasticidad en la nube**.

### ğŸ“Š Diagrama: El Problema del Sobreaprovisionamiento resuelto por Elasticidad

```mermaid
flowchart LR
    subgraph ONPREM["ğŸ¢ On-Premises"]
        direction TB
        OP1["ğŸ“Š Demanda real<br/>(varÃ­a durante el dÃ­a)"]
        OP2["ğŸ–¥ï¸ğŸ–¥ï¸ğŸ–¥ï¸ğŸ–¥ï¸ğŸ–¥ï¸ğŸ–¥ï¸ğŸ–¥ï¸ğŸ–¥ï¸<br/>Capacidad siempre fija<br/>en el PICO mÃ¡ximo"]
        OP3["ğŸ’¸ Paga 8 servidores<br/>incluso de madrugada<br/>cuando solo necesitas 1"]
        OP1 --- OP2 --> OP3
    end

    subgraph AWS["â˜ï¸ AWS con Elasticidad"]
        direction TB
        A1["ğŸ“Š Demanda real<br/>(varÃ­a durante el dÃ­a)"]
        A2["âš¡ Auto Scaling<br/>ajusta automÃ¡ticamente"]
        A3["ğŸŒ™ Madrugada:<br/>ğŸ–¥ï¸ 1 servidor â†’ pagas 1"]
        A4["ğŸŒ† Hora pico:<br/>ğŸ–¥ï¸ğŸ–¥ï¸ğŸ–¥ï¸ğŸ–¥ï¸ğŸ–¥ï¸ğŸ–¥ï¸ğŸ–¥ï¸ğŸ–¥ï¸ 8 servidores â†’ pagas 8"]
        A5["ğŸ’° Pagas EXACTAMENTE<br/>lo que consumes"]
        A1 --> A2
        A2 --> A3
        A2 --> A4
        A3 & A4 --> A5
    end

    style ONPREM fill:#FF4444,stroke:#232F3E,color:#FFFFFF
    style AWS fill:#0d904f,stroke:#232F3E,color:#FFFFFF
    style OP1 fill:#FF4444,stroke:#FFFFFF,color:#FFFFFF
    style OP2 fill:#FF4444,stroke:#FFFFFF,color:#FFFFFF
    style OP3 fill:#FF4444,stroke:#FFFFFF,color:#FFFFFF
    style A1 fill:#0d904f,stroke:#FFFFFF,color:#FFFFFF
    style A2 fill:#FF9900,stroke:#232F3E,color:#232F3E
    style A3 fill:#0d904f,stroke:#FFFFFF,color:#FFFFFF
    style A4 fill:#0d904f,stroke:#FFFFFF,color:#FFFFFF
    style A5 fill:#0d904f,stroke:#FFFFFF,color:#FFFFFF
```

---

## 3. Escalado Horizontal vs. Vertical

La nube proporciona **dos mÃ©todos** para realizar este escalado elÃ¡stico:

### Escalado Vertical (Scale Up / Scale Down)

- **Â¿QuÃ© es?** Cambiar el tamaÃ±o de una **sola instancia** de servidor (hacerla mÃ¡s grande o mÃ¡s pequeÃ±a aÃ±adiendo vCPU o memoria).
- **Ejemplo:** Cambiar una instancia EC2 t3.small a una t3.2xlarge.
- **LimitaciÃ³n:** Tiene un lÃ­mite fÃ­sico (el servidor mÃ¡s grande disponible). Puede generar un **punto Ãºnico de fallo**.

### Escalado Horizontal (Scale Out / Scale In)

- **Â¿QuÃ© es?** AÃ±adir **mÃ¡s instancias** de servidores adicionales para que trabajen en conjunto.
- **Ejemplo:** Pasar de 2 instancias EC2 a 10 instancias EC2 idÃ©nticas detrÃ¡s de un Load Balancer.
- **Recomendado por AWS:** Elimina los **puntos Ãºnicos de fallo**, distribuye las peticiones del cliente en mÃºltiples recursos pequeÃ±os y eficientes, incrementando la **confiabilidad**.

| Tipo | AcciÃ³n | LÃ­mite | Disponibilidad |
|---|---|---|---|
| **Vertical** | Agrandar/achicar 1 instancia | Limitado por el hardware mÃ¡ximo | Punto Ãºnico de fallo |
| **Horizontal** | Agregar/quitar instancias | PrÃ¡cticamente ilimitado | Alta disponibilidad âœ… |

> **Tip de examen:** AWS **recomienda el escalado horizontal** porque elimina puntos Ãºnicos de fallo. "Agregar mÃ¡s instancias pequeÃ±as" = horizontal. "Hacer el servidor mÃ¡s grande" = vertical.

### ğŸ“Š Diagrama: Escalado Vertical vs Horizontal

```mermaid
flowchart TD
    subgraph VERTICAL["â¬†ï¸ Escalado Vertical (Scale Up)"]
        direction LR
        V1["ğŸ–¥ï¸ Servidor pequeÃ±o<br/>2 vCPU / 4GB RAM"] -->|"Scale UP â†‘"| V2["ğŸ–¥ï¸ Servidor grande<br/>32 vCPU / 128GB RAM"]
        V2 -->|"Scale DOWN â†“"| V1
        VWARN["âš ï¸ Punto Ãºnico de fallo<br/>LÃ­mite fÃ­sico mÃ¡ximo"]
    end

    subgraph HORIZONTAL["â¡ï¸ Escalado Horizontal (Scale Out)"]
        direction TB
        LB["âš–ï¸ Load Balancer"]
        LB --> H1["ğŸ–¥ï¸ Instancia 1"]
        LB --> H2["ğŸ–¥ï¸ Instancia 2"]
        LB --> H3["ğŸ–¥ï¸ Instancia 3"]
        LB --> HN["ğŸ–¥ï¸ Instancia N..."]
        HGOOD["âœ… Sin punto Ãºnico de fallo<br/>Escalado ilimitado<br/>AWS lo RECOMIENDA"]
    end

    style VERTICAL fill:#e8710a,stroke:#232F3E,color:#FFFFFF
    style HORIZONTAL fill:#0d904f,stroke:#232F3E,color:#FFFFFF
    style V1 fill:#e8710a,stroke:#FFFFFF,color:#FFFFFF
    style V2 fill:#e8710a,stroke:#FFFFFF,color:#FFFFFF
    style VWARN fill:#FF4444,stroke:#FFFFFF,color:#FFFFFF
    style LB fill:#FF9900,stroke:#232F3E,color:#232F3E
    style H1 fill:#0d904f,stroke:#FFFFFF,color:#FFFFFF
    style H2 fill:#0d904f,stroke:#FFFFFF,color:#FFFFFF
    style H3 fill:#0d904f,stroke:#FFFFFF,color:#FFFFFF
    style HN fill:#0d904f,stroke:#FFFFFF,color:#FFFFFF
    style HGOOD fill:#0d904f,stroke:#FFFFFF,color:#FFFFFF
```

---

## 4. AutomatizaciÃ³n y Agilidad

La verdadera escalabilidad y elasticidad **no requieren que un administrador humano** encienda o apague servidores manualmente.

- **AWS Auto Scaling** monitorea de manera continua el uso de las aplicaciones (por ejemplo, mediante **mÃ©tricas de CPU** en CloudWatch) y activa **acciones automÃ¡ticas** para provisionar o terminar servidores.
- Esto otorga a las empresas una **agilidad extrema**, permitiÃ©ndoles:
  - Responder en **minutos** a aumentos bruscos e inesperados de carga de trabajo.
  - Lanzar nuevos recursos **instantÃ¡neamente**.
  - Mantenerse un paso adelante de la competencia **sin tiempos de inactividad**.

### Flujo de AWS Auto Scaling

- **CloudWatch** monitorea mÃ©tricas (CPU, trÃ¡fico, latencia).
- Cuando se supera un **umbral**, se activa una **polÃ­tica de escalado**.
- **Auto Scaling Group** lanza o termina instancias automÃ¡ticamente.
- El **Load Balancer** distribuye el trÃ¡fico entre todas las instancias activas.

> **Tip de examen:** "Respuesta automÃ¡tica a cambios de demanda sin intervenciÃ³n humana" = **AWS Auto Scaling**. "Distribuir trÃ¡fico entre instancias" = **Elastic Load Balancer (ELB)**.

### ğŸ“Š Diagrama: Flujo Completo de Auto Scaling

```mermaid
flowchart TD
    USERS["ğŸ‘¥ Usuarios<br/>(demanda variable)"]

    USERS -->|"TrÃ¡fico"| LB["âš–ï¸ Elastic Load Balancer<br/>Distribuye peticiones"]

    LB --> ASG

    subgraph ASG["ğŸ”„ Auto Scaling Group"]
        direction LR
        I1["ğŸ–¥ï¸ Instancia 1"]
        I2["ğŸ–¥ï¸ Instancia 2"]
        I3["ğŸ–¥ï¸ Instancia 3 (nueva)"]
    end

    CW["ğŸ“Š CloudWatch<br/>Monitorea mÃ©tricas<br/>(CPU, latencia, trÃ¡fico)"]
    CW -->|"CPU > 70%<br/>Â¡Escalar!"| POLICY["ğŸ“‹ PolÃ­tica de Escalado"]
    POLICY -->|"Lanzar nueva<br/>instancia"| ASG
    POLICY -->|"CPU < 30%<br/>Terminar instancia"| ASG

    ASG -.->|"MÃ©tricas"| CW

    style USERS fill:#FF9900,stroke:#232F3E,color:#232F3E
    style LB fill:#1a73e8,stroke:#FFFFFF,color:#FFFFFF
    style ASG fill:#0d904f,stroke:#FF9900,color:#FFFFFF
    style CW fill:#e8710a,stroke:#FFFFFF,color:#FFFFFF
    style POLICY fill:#7B1FA2,stroke:#FFFFFF,color:#FFFFFF
    style I1 fill:#0d904f,stroke:#FFFFFF,color:#FFFFFF
    style I2 fill:#0d904f,stroke:#FFFFFF,color:#FFFFFF
    style I3 fill:#0d904f,stroke:#FFFFFF,color:#FFFFFF
```

---

## Resumen para el Candidato

| Concepto | DefiniciÃ³n | Ejemplo |
|---|---|---|
| **Escalabilidad** | Capacidad de crecer ante mayor demanda | Una app maneja 1M de usuarios en lugar de 100K |
| **Elasticidad** | Crecer Y encoger automÃ¡ticamente | Auto Scaling sube/baja instancias segÃºn CPU |
| **Escalado Vertical** | Agrandar 1 servidor (mÃ¡s CPU/RAM) | EC2 t3.small â†’ t3.2xlarge |
| **Escalado Horizontal** | Agregar mÃ¡s servidores (recomendado) | 2 instancias â†’ 10 instancias + Load Balancer |
| **Auto Scaling** | Automatiza el escalado segÃºn mÃ©tricas | CloudWatch detecta CPU alto â†’ lanza instancias |
| **Fin del sobreaprovisionamiento** | Pagas solo lo que consumes | Costo se ajusta al trÃ¡fico real |

### Palabras clave que debes asociar

- **"Crece automÃ¡ticamente"** â†’ Escalabilidad
- **"Crece Y encoge / banda elÃ¡stica / pago exacto"** â†’ Elasticidad
- **"Hacer el servidor mÃ¡s grande"** â†’ Escalado Vertical
- **"Agregar mÃ¡s servidores / distribuir carga"** â†’ Escalado Horizontal (recomendado)
- **"Sin intervenciÃ³n humana / mÃ©tricas de CPU"** â†’ Auto Scaling
- **"Distribuir trÃ¡fico entre instancias"** â†’ Elastic Load Balancer
- **"Sobreaprovisionar / capacidad ociosa"** â†’ Problema on-premises

---

### ğŸ“Š Diagrama: Ãrbol de DecisiÃ³n para Preguntas del Examen

```mermaid
flowchart TD
    Q["â“ Pregunta sobre<br/>Escalabilidad y Elasticidad"]

    Q --> A{"Â¿QuÃ© concepto<br/>evalÃºa?"}

    A -->|"Diferencia entre<br/>escalar y elasticidad"| B{"Â¿QuÃ© caracterÃ­stica?"}
    A -->|"CÃ³mo se escala<br/>(mÃ©todo)"| C{"Â¿CÃ³mo?"}
    A -->|"AutomatizaciÃ³n<br/>del escalado"| D{"Â¿QuÃ© servicio?"}
    A -->|"Problema de<br/>capacidad ociosa"| OVER["âœ… Sobreaprovisionamiento<br/>(on-premises)<br/>SoluciÃ³n: Elasticidad"]

    B -->|"Solo crece ante<br/>mÃ¡s demanda"| SCAL["âœ… Escalabilidad"]
    B -->|"Crece Y encoge<br/>automÃ¡ticamente<br/>Pagas exactamente"| ELAST["âœ… Elasticidad<br/>(banda elÃ¡stica)"]

    C -->|"Agrandar<br/>un servidor"| VERT["âœ… Escalado Vertical<br/>(Scale Up/Down)<br/>âš ï¸ Punto Ãºnico de fallo"]
    C -->|"Agregar mÃ¡s<br/>servidores pequeÃ±os"| HORIZ["âœ… Escalado Horizontal<br/>(Scale Out/In)<br/>âœ… Recomendado por AWS"]

    D -->|"Monitorear mÃ©tricas<br/>y ajustar instancias"| AS["âœ… AWS Auto Scaling<br/>(con CloudWatch)"]
    D -->|"Distribuir trÃ¡fico<br/>entre instancias"| ELB["âœ… Elastic Load Balancer<br/>(ELB)"]

    style Q fill:#FF9900,stroke:#232F3E,color:#232F3E
    style A fill:#232F3E,stroke:#FF9900,color:#FFFFFF
    style B fill:#232F3E,stroke:#FF9900,color:#FFFFFF
    style C fill:#232F3E,stroke:#FF9900,color:#FFFFFF
    style D fill:#232F3E,stroke:#FF9900,color:#FFFFFF
    style OVER fill:#0d904f,stroke:#232F3E,color:#FFFFFF
    style SCAL fill:#0d904f,stroke:#232F3E,color:#FFFFFF
    style ELAST fill:#0d904f,stroke:#232F3E,color:#FFFFFF
    style VERT fill:#0d904f,stroke:#232F3E,color:#FFFFFF
    style HORIZ fill:#0d904f,stroke:#232F3E,color:#FFFFFF
    style AS fill:#0d904f,stroke:#232F3E,color:#FFFFFF
    style ELB fill:#0d904f,stroke:#232F3E,color:#FFFFFF
```
